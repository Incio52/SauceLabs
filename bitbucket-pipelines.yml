image: mcr.microsoft.com/dotnet/sdk:8.0

pipelines:
  default:
    - step:
        name: UI Tests .NET
        script:
          - dotnet --info
          # Selenium + Chrome (opcional: Playwright abajo)
          - apt-get update && apt-get install -y wget gnupg unzip curl
          - wget -qO- https://dl.google.com/linux/linux_signing_key.pub | gpg --dearmor -o /usr/share/keyrings/google.gpg
          - echo "deb [arch=amd64 signed-by=/usr/share/keyrings/google.gpg] http://dl.google.com/linux/chrome/deb/ stable main" > /etc/apt/sources.list.d/google-chrome.list
          - apt-get update && apt-get install -y google-chrome-stable
          - dotnet restore
          - dotnet test -c Release --logger "trx;LogFileName=test.trx"
        artifacts:
          - **/TestResults/**

    # Playwright (.NET) en lugar de Selenium:
    # - step:
    #     name: Playwright Tests
    #     script:
    #       - dotnet build -c Release
    #       - dotnet tool install --global Microsoft.Playwright.CLI
    #       - ~/.dotnet/tools/playwright install --with-deps
    #       - dotnet test -c Release
